!function(a){var e,t;e=function(){function e(e,t){this.settings=a.extend({},a.fn.keyboard.defaults,t),this.$element=a(e),this.init()}return e.prototype={init:function(){var e=this;this.$element.on("click",function(){a(this).blur();var t=['<div id="keyboard_dialog">','          <div class="plateNum_dialog">','              <div class="dialog_hd"><strong class="dialog_title">增加车牌</strong></div>','              <div class="dialog_bd">','                <div class="plateNum">','                    <span class="plateNum_item"></span>','                    <span class="plateNum_item"></span>','                    <span class="plateNum_item"></span>','                    <span class="plateNum_item"></span>','                    <span class="plateNum_item"></span>','                    <span class="plateNum_item"></span>','                    <span class="plateNum_item"></span>',"                </div>",'                <a href="javascript:" class="text_btn" id="removePlateNum">清空</a>',"              </div>",'              <div class="dialog_ft">','                  <a href="javascript:;" class="btn btn_default" id="close_keyboard">取消</a>','                  <a href="javascript:;" class="btn btn_primary" id="saveAndCloseKeyboard">确定</a>',"              </div>","          </div>",'          <div class="ake_mask"></div>','          <div class="keyboard_container">','              <ul class="keyboard">','                  <li class="keyboard_item">','                    <div class="key_container">','                      <a href="javascript:;">京</a>','                      <a href="javascript:;">沪</a>','                      <a href="javascript:;">粤</a>','                      <a href="javascript:;">津</a>','                      <a href="javascript:;">浙</a>','                      <a href="javascript:;">苏</a>','                      <a href="javascript:;">湘</a>','                      <a href="javascript:;">渝</a>','                      <a href="javascript:;">云</a>','                      <a href="javascript:;">豫</a>','                      <a href="javascript:;">皖</a>','                      <a href="javascript:;">桂</a>','                      <a href="javascript:;">新</a>','                      <a href="javascript:;">青</a>','                      <a href="javascript:;">琼</a>','                      <a href="javascript:;">闽</a>','                      <a href="javascript:;">蒙</a>','                      <a href="javascript:;">辽</a>','                      <a href="javascript:;">宁</a>','                      <a href="javascript:;">鲁</a>','                      <a href="javascript:;">陕</a>','                      <a href="javascript:;">晋</a>','                      <a href="javascript:;">吉</a>','                      <a href="javascript:;">冀</a>','                      <a href="javascript:;">黑</a>','                      <a href="javascript:;">甘</a>','                      <a href="javascript:;">鄂</a>','                      <a href="javascript:;">赣</a>','                      <a href="javascript:;">贵</a>','                      <a href="javascript:;">川</a>','                      <a href="javascript:;">藏</a>',"                    </div>","                  </li>",'                  <li class="keyboard_item">','                    <div class="key_container">','                      <a href="javascript:;">A</a>','                      <a href="javascript:;">B</a>','                      <a href="javascript:;">C</a>','                      <a href="javascript:;">D</a>','                      <a href="javascript:;">E</a>','                      <a href="javascript:;">F</a>','                      <a href="javascript:;">G</a>','                      <a href="javascript:;">H</a>','                      <a href="javascript:;">J</a>','                      <a href="javascript:;">K</a>','                      <a href="javascript:;">L</a>','                      <a href="javascript:;">M</a>','                      <a href="javascript:;">N</a>','                      <a href="javascript:;">O</a>','                      <a href="javascript:;">P</a>','                      <a href="javascript:;">Q</a>','                      <a href="javascript:;">R</a>','                      <a href="javascript:;">S</a>','                      <a href="javascript:;">T</a>','                      <a href="javascript:;">U</a>','                      <a href="javascript:;">V</a>','                      <a href="javascript:;">W</a>','                      <a href="javascript:;">X</a>','                      <a href="javascript:;">Y</a>','                      <a href="javascript:;">Z</a>',"                    </div>",'                  <li class="keyboard_item">','                    <div class="key_container">','                      <a href="javascript:;">1</a>','                      <a href="javascript:;">2</a>','                      <a href="javascript:;">3</a>','                      <a href="javascript:;">4</a>','                      <a href="javascript:;">5</a>','                      <a href="javascript:;">6</a>','                      <a href="javascript:;">7</a>','                      <a href="javascript:;">8</a>','                      <a href="javascript:;">9</a>','                      <a href="javascript:;">0</a>','                      <a href="javascript:;">A</a>','                      <a href="javascript:;">B</a>','                      <a href="javascript:;">C</a>','                      <a href="javascript:;">D</a>','                      <a href="javascript:;">E</a>','                      <a href="javascript:;">F</a>','                      <a href="javascript:;">G</a>','                      <a href="javascript:;">H</a>','                      <a href="javascript:;">I</a>','                      <a href="javascript:;">J</a>','                      <a href="javascript:;">K</a>','                      <a href="javascript:;">L</a>','                      <a href="javascript:;">M</a>','                      <a href="javascript:;">N</a>','                      <a href="javascript:;">O</a>','                      <a href="javascript:;">P</a>','                      <a href="javascript:;">Q</a>','                      <a href="javascript:;">R</a>','                      <a href="javascript:;">S</a>','                      <a href="javascript:;">T</a>','                      <a href="javascript:;">U</a>','                      <a href="javascript:;">V</a>','                      <a href="javascript:;">W</a>','                      <a href="javascript:;">X</a>','                      <a href="javascript:;">Y</a>','                      <a href="javascript:;">Z</a>','                      <a href="javascript:;" class="lastPlateNum">学</a>','                      <a href="javascript:;" class="lastPlateNum">警</a>','                      <a href="javascript:;" class="gh_item lastPlateNum">港</a>','                      <a href="javascript:;" class="gh_item lastPlateNum">澳</a>',"                    </div>","                  </li>","              </ul>","          </div>","      </div>"].join("");a("#keyboard_dialog").length||(a("body").append(t),a("#keyboard_dialog").show(),e.setMargin(),e.fillPlate(),e.closeKeyBoard(),e.enterPlateNum(),e.removePlateNum(),e.changePlateNum(),e.getPlate(),e.addActive()),a("#keyboard_dialog").show()})},fillPlate:function(){var e=this.$element.val();if(e){a(".plateNum_item").text("");var t=e.split("");a.each(t,function(e,t){a(".plateNum_item").eq(e).text(t)})}},setMargin:function(){var e=a(".key_container"),t=a(window).width()-2*parseInt(a(".keyboard").css("padding").replace(/px/,"")),i=e.find("a").width(),r=i+2*parseInt(e.find("a").css("margin").replace(/px/,"").trim()),s=Math.floor(t/r),c=(t/s-i)/2;e.find("a").css({marginLeft:c,marginRight:c})},closeKeyBoard:function(){a(document).on("click","#close_keyboard",function(){a(".plateNum_item").removeClass("selected"),a("#keyboard_dialog").hide()}),a(document).on("click","#keyboard_dialog .ake_mask",function(){a(".plateNum_item").removeClass("selected"),a("#keyboard_dialog").hide()})},enterPlateNum:function(){a(document).on("click",".keyboard_item a",function(){if(a(this).text()){var e,i=t._getPlateNumLength(),r=a(this).closest(".keyboard_item").index(),s=a(this).text();if(t._isPlateNumItemSelected())switch(2===r&&("O"===s&&(s=0),"I"===s&&(s=1)),a(".plateNum_item.selected").text(s).removeClass("selected"),i){case 1:a(".keyboard_item").hide().eq(1).show();break;default:var e=t._getPrefixPlate();a(".keyboard_item").hide().eq(2).show(),6===i?(a(".lastPlateNum").show(),"粤Z"!==e&&a(".gh_item").hide()):a(".lastPlateNum").hide()}else switch(r){case 0:a(".plateNum_item").eq(i).text(s),a(".keyboard_item").hide().eq(1).show();break;case 1:a(".plateNum_item").eq(i).text(s),a(".keyboard_item").hide().eq(2).show();break;case 2:var e=t._getPrefixPlate();if("O"===s&&(s=0),"I"===s&&(s=1),i<7){a(".plateNum_item").eq(i).text(s);var c=t._getPlateNumLength();6===c&&(a(".lastPlateNum").show(),"粤Z"!==e&&a(".gh_item").hide())}}}})},removePlateNum:function(){a(document).on("click","#removePlateNum",function(){var e=a(".plateNum_item");a(".lastPlateNum").hide(),e.removeClass("selected"),a(".keyboard_item").hide().eq(0).show(),e.text("")})},changePlateNum:function(){a(document).on("click",".plateNum_item",function(){var e=a(this);if(e.text()){a(".plateNum_item").removeClass("selected"),e.addClass("selected");var i=a(this).index();switch(console.log(i),i){case 0:a(".keyboard_item").hide().eq(0).show();break;case 1:a(".keyboard_item").hide().eq(1).show();break;case 6:var r=t._getPrefixPlate();a(".keyboard_item").hide().eq(2).show(),a(".lastPlateNum").show(),"粤Z"!==r&&a(".gh_item").hide();break;default:a(".keyboard_item").hide().eq(2).show(),a(".gh_item").hide(),a(".lastPlateNum").hide()}}})},getPlate:function(){var e=this;a(document).on("click","#saveAndCloseKeyboard",function(){var t="";a(".plateNum_item").each(function(e,i){t+=a(this).text()}),e.$element.val(t),a("#keyboard_dialog").hide()})},addActive:function(){a(document).on("touchstart",".key_container a",function(){a(this).addClass("active")}),a(document).on("touchend",".key_container a",function(){a(this).removeClass("active")}),a(document).on("touchcancel",".key_container a",function(e){a(this).removeClass("active")}),a(document).on("touchmove",".key_container a",function(e){a(this).removeClass("active")})}},e}(),t=function(){function e(){var e=0;return a(".plateNum_item").each(function(t,i){a(this).text()&&e++}),e}function t(){var e;return a(".plateNum_item").each(function(t,i){a(this).hasClass("selected")&&(e=!0)}),e}function i(){return a(".plateNum_item").eq(0).text()+a(".plateNum_item").eq(1).text()}return{_getPlateNumLength:e,_isPlateNumItemSelected:t,_getPrefixPlate:i}}(),a.fn.keyboard=function(t){return this.each(function(){var i=a(this),r=a.fn.keyboard.lookup[i.data("keyboard")];r||(a.fn.keyboard.lookup[++a.fn.keyboard.lookup.i]=new e(this,t),i.data("keyboard",a.fn.keyboard.lookup.i),r=a.fn.keyboard.lookup[i.data("keyboard")]),"string"==typeof t&&r[t]()})},a.fn.keyboard.lookup={i:0},a.fn.keyboard.defaults={property1:"value",property2:"value"}}(Zepto);
//# sourceMappingURL=../maps/keyboard.min.js.map
